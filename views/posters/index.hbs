{{#extends 'base'}}

{{#block 'content'}}
  <h1>Welcome to the Poster Shop</h1>
  <a href="/posters/create" class="btn btn-primary my-3">New</a>

  {{!-- Search engine --}}
  <h2>Search</h2>
  <form method="get">
    {{{form}}}
    <input type="submit" value="Search" class="btn btn-primary my-3">
  </form>

  <table class="table">
    <thead>
      <tr>
        <th>Title</th>
        <th>Cost</th>
        <th>Description</th>
        <th>Date</th>
        <th>Stock</th>
        <th>Height</th>
        <th>Width</th>
        <th>Media Property</th>
        <th>Tags</th>
        <th>Image</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {{#each posters}}
        <tr>
          <td>{{this.title}}</td>
          <td>${{divide this.cost 100}}</td>
          <td>{{this.description}}</td>
          <td>{{this.date}}</td>
          <td>{{this.stock}}</td>
          <td>{{this.height}}</td>
          <td>{{this.width}}</td>
          <td>{{this.mediaProperty.name}}</td>
          <td>
            {{#each this.tags}}
              <span class="badge bg-primary">{{this.name}}</span>
            {{/each}}
          </td>
          <td>
            <img src="{{this.image_url}}" style="height: 50px; width:50px;">
          </td>
          <td>
            <a href="/posters/{{this.id}}/update" class="btn btn-primary btn-sm">Update</a>
            <a href="/posters/{{this.id}}/delete" class="btn btn-danger btn-sm">Delete</a>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
{{/block}}

{{/extends}}